---
title: "誰でも「それっぽく」使えるようになるクラス入門"
emoji: "✨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

昨日に引き続き、[木更津高専アドベントカレンダー](https://qiita.com/advent-calendar/2023/nit_kisarazu)15日目担当のこかすた〜です(公開日は少しだけ早いですが...。)  
今回は、誰も簡単にそれっぽくクラスを使えるように、クラスの概念から説明していきます。

# 前置き
この記事は主に、同級生及び来年以降も同じ授業を受けるであろう後輩に向けて書いたものです。  
学校のプログラミングの授業で普段はC言語を使っていますが、今回はゲーム制作ということでProcessingを用いることになっています。ProcessingはJavaベースですので、Javaのコードを交えながら解説していきます。

ところどころ厳密性がかけているところがあると思いますが、ご了承ください。

# クラスってな〜に
クラスってどんなものなんでしょう。知ってる人は飛ばしてください。  
よく言われるのは、「クラスは設計図で、それをもとに〜」みたいな説明です。でも、これはわかりにくいと僕は思います。  

ということで、実際に例をあげながら説明していきます。例と言っても、ソースコードではなく、人間を例に考えてみます。

## 人間にもたせる情報や機能を考えてみる
人間っていろいろな情報や動きを持っていると思います。例えば、
 - 名前
 - PCの台数
 - 所持金(財布)
 - 銀行の残高(銀行口座)

などの情報を持っています。更に、

 - 名前を名乗る
 - 口座からお金を下ろす
 - PCを購入する

みたいな動作ができます。  
人間の可能性は無限大なので他にもたくさんのことができますが、今回考える人間は上記の情報や動作を持つとしましょう。

ここで、「口座からお金を下ろす」「PCを購入する」という動作についてもう少しだけ考えてみます。この2つはそれぞれ、
 - 口座からお金を下ろす → 残高が十分にあれば銀行の残高を減らし、所持金を増やす
 - PCを購入する → 所持金が不足していて口座に十分お金があれば口座からお金を下ろし、PCの代金分所持金を減らしてPCの台数を増やす

と考えられます。

さて、ここまでの内容をまとめてみましょう。人間というのはこの記事においては以下のような情報や動作を持つものです。 
| 種　類　 | 名前 | 詳細 |
| ---- | ---- | ---- |
| 情報 | 名前 |  |
| 情報 | PCの台数 |  |
| 情報 | 所持金(財布) |  |
| 情報 | 銀行の残高(銀行口座) |  |
| 動作 | 名前を名乗る | 名前を聞かれたら名前を答える |
| 動作 | 口座からお金を下ろす | 残高が十分にあれば銀行の残高を減らし、所持金を増やす |
| 動作 | PCを購入する | 所持金が不足していて口座に十分お金があれば口座からお金を下ろし、代金分所持金を減らして、PCの台数を増やす |

このように、どのような情報(変数)や動作(関数)を持つかを決めたものを、プログラミング言語では「クラス」といいます。また、このクラスの情報を今やったように決めることを、「クラスの宣言」といいます。
このクラスのことを、humanクラスと呼ぶことにしましょう。

ただし、これだけでは何もできません。ここからは、このhumanクラスを使って人を実際に創り出してみましょう。

## humanクラスを使ってみる
ここに、kokastarというhumanがいます。humanということは、先程決めた情報や動作を持っていることになります。kokastarの情報を少し覗いてみましょう。
| 情報名 | 中身 |
| ---- | ---- |
| 名前 | kokastar |
| PCの台数 | 3 |
| 所持金(財布) | 1,700円 |
| 銀行の残高(銀行口座) | 334,000円 |

では、早速動作を試してみましょう。kokastarに名乗らせるにはこうします。
> kokastar.名前を名乗る()

すると、
> kokastar「kokastarです」

と名乗ってくれます。  
次に、口座から1000円下ろしてもらいましょう。
> kokastar.口座からお金を下ろす(1000)

情報を覗いてみると...
| 情報名 | 中身 |
| ---- | ---- |
| 名前 | kokastar |
| PCの台数 | 3 |
| 所持金(財布) | 2,700円 |
| 銀行の残高(銀行口座) | 333,000円 |

確かに銀行の残高が減り、財布の中にお金が増えています。最後に、10万円のPCを購入してみましょう。
> kokastar.PCを購入する(100000)

情報を覗いてみると...
| 情報名 | 中身 |
| ---- | ---- |
| 名前 | kokastar |
| PCの台数 | 4 |
| 所持金(財布) | 0円 |
| 銀行の残高(銀行口座) | 235,700円 |

不足していた分を銀行口座から下ろしてPCを購入し、PCの台数が1台増えています。

というように、クラスというのはこのように使うことができます。ただ単に情報を持つだけではなく、その情報を操作する動作なんかも一緒に用意することができます。

# クラスの使いみち
クラスについて、何となくどのようなものかわかったかと思います。では、このクラスは具体的にどのようなところで使えるのでしょうか。

例えば、「ゲームのプレーヤー情報の管理」などの使えます。
| 種　類　 | 名前 | 詳細 |
| ---- | ---- | ---- |
| 情報 | プレーヤー名 |  |
| 情報 | X座標 |  |
| 情報 | Y座標 |  |
| 情報 | HP残量 |  |
| 情報 | ランク |  |
| 動作 | ジャンプ | 「y座標を+10する」×10のあとに「y座標を-10する」×10 |
| 動作 | 右に動く | x座標を+10する |
| 動作 | 左に動く | x座標を-10する |
| 動作 | 表樹 | 今の座標に自身を表示させる |
| 動作 | 非表示 | 自身を見えないようにする |

このようなクラスを作成すれば、変数を直接変更することなく、
> プレイヤー1.ジャンプ()

とするだけでジャンプできるようにすることができます。値をいじるよりも遥かにわかりやすくなると思います。  
更に、変数を使って座標を管理すると「プレーヤー1のx座標」「プレーヤー1のy座標」などといくつも必要になりますが、クラスを使えば
> プレイヤー1.X座標
> プレイヤー1.Y座標

とかけます。

このように、クラスを使うことで「モノ」を扱いやすくできます。ゲーム制作においては様々なモノが出てくると思うので、モノをクラスを使って管理すると、扱いやすく読みやすいプログラムになると思います。

# Java(processing)でクラスを使う
ここからは、実際にhumanクラスとkokastarというhumanをJava(proseccing)で実装してみましょう。

## humanクラスの宣言 - 情報
クラスにどのような情報を持てるようにするところから始めます。情報ということはつまり変数ですが、Javaはクラス内の変数のことを「フィールド」といいます。  

humanクラスの宣言はこうします。この{}の中身クラスの情報を書いていきます。
名前を変えたい場合は、humanの場所を別の名前に変えましょう。
```java
class human{

}
```

フィールド(変数)の宣言は、以下のように行います。
普通の変数とやってることは同じなので、難しくないと思います。
```java
class human{
    String name; //名前
    int numOfpc; //PCの台数
    int bankBalance; //銀行残高
    int cash; //手持ちのお金
}
```
たったこれだけで、情報を持つためのフィールド(変数)の作成ができました。

## humanクラスの宣言 - 動作
次は、動作の宣言をします。動作ということはつまり関数ですが、Javaではクラス内の関数のことを「メソッド」といいます。

早速、名乗るためのメソッド(関数)であるprintName関数を書いてみましょう。
```java
class human{
    String name; //名前
    int numOfpc; //PCの台数
    int bankBalance; //銀行残高
    int cash; //手持ちのお金
    
    void printName(){ //名乗る
        println(name);
    }
}
```
println関数を使ってnameを表示します。このように、メソッドの中ではフィールド(変数)を使えます。  

また、引数をも使えます(使い方ははこの後解説します)。口座からお金を下ろすメソッド(関数は)以下のように宣言できます。
```java
class human{
    String name; //名前
    int numOfpc; //PCの台数
    int bankBalance; //銀行残高
    int cash; //手持ちのお金
    
    void printName(){ //名乗る
        println(name);
    }
    
    void withdraw(int money){
        bankBalance -= money; //銀行からお金を減らす
        cash += money; //手元にお金を増やす
    }
}
```

